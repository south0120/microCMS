<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAMPLE BLOG</title>
    <meta name="description" content="シンプルで美しいブログサイト">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="logo">
                <img src="public/logo.svg" alt="SAMPLE" class="logo-img">
            </h1>
            <div class="header-buttons">
                <button class="settings-btn" onclick="openSettingsModal()">⚙️ 設定</button>
                <button class="refresh-btn" onclick="refreshFromMicroCMS()">🔄 更新</button>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <section class="hero">
                <div class="hero-overlay"></div>
                <div class="hero-content">
                    <div class="hero-badge">✨ POWERED BY MICROCMS & MCP</div>
                    <h2 class="hero-title">
                        <span class="hero-title-main">Modern Blog</span>
                        <span class="hero-title-sub">Experience</span>
                    </h2>
                    <p class="hero-description">Claude Desktop × microCMS で実現する次世代ブログプラットフォーム</p>
                    <div class="hero-features">
                        <div class="feature-item">
                            <span class="feature-icon">🤖</span>
                            <span>AI記事作成</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">⚡</span>
                            <span>リアルタイム更新</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">🎨</span>
                            <span>モダンデザイン</span>
                        </div>
                    </div>
                </div>
                <div class="hero-shapes">
                    <div class="shape shape-1"></div>
                    <div class="shape shape-2"></div>
                    <div class="shape shape-3"></div>
                </div>
            </section>

            <section class="search-section">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="記事を検索..." class="search-input">
                    <button onclick="searchArticles()" class="search-btn">検索</button>
                </div>
            </section>

            <section class="tags-section">
                <h3>タグ</h3>
                <div class="tags-container" id="tagsContainer">
                    <!-- タグがここに動的に追加されます -->
                </div>
            </section>

            <section class="articles-section">
                <h3>記事一覧</h3>
                <div class="articles-grid" id="articlesGrid">
                    <!-- 記事がここに動的に追加されます -->
                </div>
                <div class="pagination" id="pagination">
                    <!-- ページネーションがここに追加されます -->
                </div>
            </section>
        </div>
    </main>

    <!-- 記事作成モーダル -->
    <div id="createModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>新しい記事を投稿</h2>
                <span class="close" onclick="closeCreateModal()">&times;</span>
            </div>
            <form id="createPostForm" class="create-form">
                <div class="form-group">
                    <label for="title">タイトル *</label>
                    <input type="text" id="title" name="title" required>
                </div>
                <div class="form-group">
                    <label for="description">説明</label>
                    <input type="text" id="description" name="description">
                </div>
                <div class="form-group">
                    <label for="tags">タグ（カンマ区切り）</label>
                    <input type="text" id="tags" name="tags" placeholder="例: JavaScript, React, Next.js">
                </div>
                <div class="form-group">
                    <label for="content">本文 *</label>
                    <textarea id="content" name="content" rows="10" required placeholder="Markdownが使用できます"></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" onclick="closeCreateModal()" class="btn btn-secondary">キャンセル</button>
                    <button type="submit" class="btn btn-primary">投稿する</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 記事詳細モーダル -->
    <div id="articleModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2 id="articleTitle"></h2>
                <span class="close" onclick="closeArticleModal()">&times;</span>
            </div>
            <div class="article-meta">
                <span id="articleDate"></span>
                <div class="article-tags" id="articleTags"></div>
            </div>
            <div class="article-content" id="articleContent"></div>
        </div>
    </div>

    <!-- 設定モーダル -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>microCMS設定</h2>
                <span class="close" onclick="closeSettingsModal()">&times;</span>
            </div>
            <form id="settingsForm" class="create-form">
                <div class="form-group">
                    <label for="serviceDomain">サービスドメイン</label>
                    <input type="text" id="serviceDomain" name="serviceDomain" placeholder="your-service-domain">
                    <small>https://your-service-domain.microcms.io の部分</small>
                </div>
                <div class="form-group">
                    <label for="apiKey">APIキー</label>
                    <input type="password" id="apiKey" name="apiKey" placeholder="Your API Key">
                    <small>microCMSの管理画面から取得したAPIキー</small>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="autoRefresh" name="autoRefresh">
                        自動更新を有効にする（5分間隔）
                    </label>
                </div>
                <div class="form-actions">
                    <button type="button" onclick="testConnection()" class="btn btn-secondary">接続テスト</button>
                    <button type="submit" class="btn btn-primary">保存</button>
                </div>
                <div id="connectionStatus" class="connection-status"></div>
            </form>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Sample Blog. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/main.js"></script>
</body>
</html>